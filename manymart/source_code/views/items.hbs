{{!-- // Authors: Riley Ovenshire and Triston Osborn

// Code has been altered from the nodejs-starter-app tutorial

Source: https://github.com/osu-cs340-ecampus/nodejs-starter-app/tree/main --}}

{{!-- Create a table --}}
<table id="items-table">
<h2>Available Items</h2>
    {{!-- Header section --}}
    <thead>

        {{!-- For just the first row, we print each key of the row object as a header cell so we
        know what each column means when the page renders --}}
        <tr>
            <th>Item ID</th>
            <th>Item Name</th>
            <th>Item Price</th>
            <th>In Stock</th>
            <th>Department ID</th>
            <th>Actions</th>
        </tr>
    </thead>

    {{!-- Body section --}}
    <tbody>


        {{#each items}}
        <tr>
            <td>{{this.item_id}}</td>
            <td>{{this.item_name}}</td>
            <td>{{this.item_price}}</td>
            <td>{{this.item_quantity}}</td>
            <td>{{this.department_id}}</td>
            <td><button onclick="deleteItem({{this.item_id}})">Delete</button></td>
        </tr>
        {{/each}}
    </tbody>
</table>

<script src="./js/delete_item.js"></script>





<h2>Add Item</h2>
<p>To add a new item to inventory, please complete the form below and hit 'Submit'.</p>

<form id="add-item-form-ajax">
    <div class="form-group">
    <label for="input-item-name">Item Name: </label>
    <input type="text" name="input-item-name" id="input-item-name">
    </div>

    <div class="form-group">
    <label for="input-item-price">Item Price: </label>
    <input type="number" step="0.01" name="input-item-price" id="input-item-price">
    </div>

    <div class="form-group">
    <label for="input-item-quantity">Item Stock: </label>
    <input type="number" name="input-item-quantity" id="input-item-quantity">
    </div>

    <div class="form-group">
    <label for="select-item-dept">Department ID: </label>
    <select name="select-item-dept" id="select-item-dept">
        <option value="">Select a Department</option>
        {{#each departments}}
        <option value="{{this.department_id}}">{{this.department_name}}</option>
        {{/each}}
    </select>
    </div>

    <input type="submit">
</form>
<script src="./js/add_item.js"></script>


<h2>Updating An Item</h2>
<p>To update an item select if from the drop down then input new price, and/or quantity</p>
<form id="update-item-form">

    <label for="input-item-update">Item name: </label>
    <select name="input-item-update" id="input-item-update">
        <option>Select an Item</option>
        {{#each items}}
        <option value="{{this.item_name}}">{{this.item_name}}</option>
        {{/each}}
    </select>

    <div class="form-group">
    <label for="input-itemPrice-update">Item Price: </label>
    <input type="number" name="input-itemPrice-update" id="input-itemPrice-update">
    </div>

    <div class="form-group">
    <label for="input-itemQuant-update">Item Quantity: </label>
    <input type="number" name="input-itemQuant-update" id="input-itemQuant-update">
    </div>

    <input type="submit">

</form>

<script src="./js/update_item.js"></script>